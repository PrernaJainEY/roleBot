<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Kora AI Interview Agent</title>
  <link href="./css/styles.css" rel="stylesheet">
  <!-- <script src="config.js"></script> -->
  <script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
  <script src="./js/chat.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
  <!-- <script>
    // Function to update competencies based on selected designation
    function updateCompetencies() {
      const jobTitle = document.getElementById("job_title").value;
      const competenciesDropdown = document.getElementById("competencies");

      // Clear existing options
      competenciesDropdown.innerHTML = "";

      // Define competencies based on designation
      let competencies = [];
      if (jobTitle === "Sales manager") {
        competencies = [
          "Revenue Management",
          "Dealers & Partner Management",
          "Financial Acumen",
          "Industry Knowledge & Product Offering"
        ];
      } else if (jobTitle === "Logistics") {
        competencies = [
          "Logistics Operational Excellence"
        ];
      }

      // Populate the competencies dropdown
      competencies.forEach(comp => {
        const option = document.createElement("option");
        option.value = comp;
        option.textContent = comp;
        competenciesDropdown.appendChild(option);
      });

      // Add a prompt option
      const promptOption = document.createElement("option");
      promptOption.value = "";
      promptOption.textContent = "Select Competencies";
      competenciesDropdown.insertBefore(promptOption, competenciesDropdown.firstChild);
    }

    // Add an event listener to update competencies on designation change
    window.onload = function() {
      const jobTitleDropdown = document.getElementById("job_title");
      jobTitleDropdown.addEventListener("change", updateCompetencies);

      // Call once to set the initial state
      updateCompetencies();
    };
  </script> -->
</head>

<body>
  <div class="navBar">
    <div class="header">
      <img src="./image/SSS.png" class="logo">
      <p class="namePurple">Kora.ai</p>
      <sub class="nameWhite">Your Ai-Powered Growth Amplifier</sub>
    </div>
    <div class="buttonGroup">
      <button id="stopSession" onclick="window.stopSession()" disabled>End Interview</button>
      <button id="downloadPdfButton">Download Chat</button>
      <button id="rolePlayEvalButton">Evaluation Report</button>
    </div>
  </div>
  
  <div class="form-container" id="form-container">
    <form class="form-skill" id="form-skill">
      <h2>Roleplay Bot </h2>
      
      <label class="form-label" for="job_title">Designation</label>
      <!-- <select id="job_title" class="form-input">
        <option value="" disabled selected>Select Designation</option>
        <option value="Sales_manager">Territory Sales Manager</option>
        <option value="Logistics">Associate Officer Logistics</option>
      </select> -->
      <textarea id="job_title" class="form-input"></textarea>

      <!-- <label class="form-label" for="competencies">Select Competencies</label>
      <select id="competencies" class="form-input">
        <option value="" disabled selected>Select Competencies</option> 
        <option value="Revenue_Management">Revenue Management</option>
        <option value="Dealers_&_Partner">Dealers & Partner Management</option>
        <option value="Financial_Acumen">Financial Acumen</option>
        <option value="Industry_Knowledge_&_Product_Offering">Industry Knowledge & Product Offering</option>
        <option value="Logistics_Operational_Excellence">Logistics Operational Excellence</option>
      </select> -->

      <label class="form-label" for="key_focus_area">Key Focus Area</label>
      <textarea id="key_focus_area" class="form-input"></textarea>

      <label class="form-label" for="prompt">Prompt</label>
      <textarea id="prompt" class="form-input"></textarea>

      <label class="form-label" for="ai_persona">AI Persona</label>
      <textarea id="ai_persona" class="form-input"></textarea>

      <label class="form-label" for="employee_persona">Employee Persona</label>
      <textarea id="employee_persona" class="form-input"></textarea>

      <label class="form-label" for="industry_role">Industry Role</label>
      <textarea id="industry_role" class="form-input"></textarea>

      <label class="form-label" for="selected_lang">Select Language</label>
      <select id="selected_lang" class="form-input">
        <option value="English">English</option>
        <option value="Hindi">Hindi</option>
      </select>

      <button id="startSession" class="form-button" onclick="window.startSession()">Start Interview</button>
    </form>
  </div>
  
  <div id="configuration" hidden>
    <h2 style="background-color: white; width: 300px;">Azure Speech Resource</h2>
    <label style="font-size: medium;" for="region">Region:</label>
    <select id="region" style="font-size: medium;">
      <option value="westus2">West US 2</option>
      <option value="westeurope">West Europe</option>
      <option value="southeastasia">Southeast Asia</option>
    </select>
    <label style="font-size: medium;" for="subscriptionKey">Subscription Key:</label>
    <input id="subscriptionKey" type="password" size="32" style="font-size: medium;" />
    <div style="background-color: white; width: 300px;">
      <input type="checkbox" id="enablePrivateEndpoint" onchange="window.updatePrivateEndpoint()">Enable Private
      Endpoint</input><br />
    </div>
    <div id="showPrivateEndpointCheckBox" hidden="hidden">
      <label style="font-size: medium;" for="privateEndpoint">Private Endpoint:</label>
      <input id="privateEndpoint" type="text" size="64" style="font-size: medium;"
        placeholder="https://{your custom name}.cognitiveservices.azure.com/"></input><br />
    </div><br />

    <h2 style="background-color: white; width: 300px;">Azure OpenAI Resource</h2>
    <label style="font-size: medium;" for="azureOpenAIEndpoint">Endpoint:</label>
    <input id="azureOpenAIEndpoint" type="text" size="64" style="font-size: medium;"></input><br />
    <label style="font-size: medium;" for="azureOpenAIApiKey">API Key:</label>
    <input id="azureOpenAIApiKey" type="password" size="32" style="font-size: medium;" /><br />
    <label style="font-size: medium;" for="azureOpenAIDeploymentName">Deployment Name:</label>
    <input id="azureOpenAIDeploymentName" type="text" size="32" style="font-size: medium;" /><br />
    <label style="font-size: medium;" for="prompt">System Prompt:</label><br />
    <textarea id="prompt" style="width: 640px;">You are an AI assistant that helps people find information.</textarea>
    <div style="background-color: white; width: 300px;">
      <input type="checkbox" id="enableOyd" onchange="window.updataEnableOyd()">Enable On Your Data</input><br />
    </div>
    <br />

    <div id="cogSearchConfig" hidden="hidden">
      <h2 style="background-color: white; width: 400px;">Azure Cognitive Search Resource</h2>
      <label style="font-size: medium;" for="azureCogSearchEndpoint">Endpoint:</label>
      <input id="azureCogSearchEndpoint" type="text" size="64" style="font-size: medium;"></input><br />
      <label style="font-size: medium;" for="azureCogSearchApiKey">API Key:</label>
      <input id="azureCogSearchApiKey" type="password" size="32" style="font-size: medium;" /><br />
      <label style="font-size: medium;" for="azureCogSearchIndexName">Index Name:</label>
      <input id="azureCogSearchIndexName" type="text" size="32" style="font-size: medium;" /><br />
      <br />
    </div>

    <h2 style="background-color: white; width: 300px;">STT / TTS Configuration</h2>
    <label style="font-size: medium;" for="sttLocale">STT Locale(s):</label>
    <input id="sttLocales" type="text" size="64" style="font-size: medium;" value="en-IN"></input><br />
    <label style="font-size: medium;" for="ttsVoice">TTS Voice:</label>
    <input id="ttsVoice" type="text" size="32" style="font-size: medium;"
      value="en-IN-RehaanNeural"></input><br />
    <label style="font-size: medium;" for="customVoiceEndpointId">Custom Voice Deployment ID (Endpoint ID):</label>
    <input id="customVoiceEndpointId" type="text" size="32" style="font-size: medium;" value=""></input><br />
    <label style="font-size: medium;" for="personalVoiceSpeakerProfileID">Personal Voice Speaker Profile ID:</label>
    <input id="personalVoiceSpeakerProfileID" type="text" size="32" style="font-size: medium;" value=""></input><br />

    <br />

    <h2 style="background-color: white; width: 300px;">Avatar Configuration</h2>
    <label style="font-size: medium;" for="talkingAvatarCharacter">Avatar Character:</label>
    <input id="talkingAvatarCharacter" type="text" size="16" style="font-size: medium;" value="meg"></input><br />
    <label style="font-size: medium;" for="talkingAvatarStyle">Avatar Style:</label>
    <input id="talkingAvatarStyle" type="text" size="16" style="font-size: medium;" value="business"></input><br />
    <div style="background-color: rgb(135, 193, 235); width: 200px;">
      <input type="checkbox" id="customizedAvatar">Custom Avatar</input><br />
    </div>
    <div style="background-color: white; width: 200px;">
      <input type="checkbox" id="autoReconnectAvatar">Auto Reconnect</input><br />
    </div>
    <div style="background-color: white; width: 200px;">
      <input type="checkbox" id="useLocalVideoForIdle" onchange="window.updateLocalVideoForIdle()">Use Local Video for
      Idle</input><br />
    </div>
    <br />
  </div>
 
  <!--
  <button id="microphone" onclick="window.microphone()" disabled>Start Microphone</button>
 
  <button id="stopSpeaking" onclick="stopSpeaking()" disabled>Stop Speaking</button>
  <button id="clearChatHistory" onclick="window.clearChatHistory()">Clear Chat History</button> -->
  <!-- <div class="chatBotContainer" id="chatBotContainer">
    <div id="videoContainer" style="width: 700px;">
      <div id="overlayArea">

      </div>
      <div id="localVideo">

      </div>
      <div id="remoteVideo">


      </div>


    </div>

    <div class="chatContainer">
      <div id="chatHistory">
      </div>
      <div
        style=" background: white; border-radius: 8px; justify-content: flex-start; align-items: center; gap: 8px; display: flex">
        <textarea id="userMessageBox" placeholder="Message..." style="width: 100%; height: 20px; flex: 1 1 0; color:
          #828282; font-size: 14px; font-family: Inter; 
          font-weight: 400; line-height: 19.60px; word-wrap: break-word;
          border: none;
        ">
        </textarea>

      </div>

      <div id="microphoneButton1">
        <div class="microphoneButton"><img id="microphone" src="./image/Frame 2610372.svg" width="30px"
            onclick="window.microphone()" /></div>
        Press to Answer
      </div>


      <textarea id="chatHistory" style="
  width: 300px;
  height: 500px;
  font-size: medium;
  border: none;
  resize: none;
  background-color: transparent;
  overflow: hidden;" hidden></textarea>
    </div>


    </div>
  </div> -->

  <div class="chatBotContainer" id="chatBotContainer">
    <div id="videoContainer" style="width: 0.1px;">
      <div id="overlayArea">

      </div>
      <div id="localVideo" >
       
      </div>
      <div id="remoteVideo">
        <div id="continuousConversationDiv" style="background-color: white; width: 300px;"  hidden>
          <input type="checkbox" id="continuousConversation">Continuous Conversation</input><br />
        </div>

      </div>
    </div>
    <div class="chatContainer " >
      <div id="chatHistory">
      </div>
      <div
        style="padding-left: 8px; padding-right: 8px; background: white; border-radius: 8px; border: 1px #E0E0E0 solid; justify-content: flex-start; align-items: center; gap: 8px; display: inline-flex">
        <textarea id="userMessageBox" placeholder="Message..." style="width: 100%; height: 20px; flex: 1 1 0; color:
          #828282; font-size: 14px; font-family: Inter; 
          font-weight: 400; line-height: 19.60px; word-wrap: break-word;
          border: none;
        ">
        </textarea>
        <div class="microphoneButton"><img id="microphone" src="./image/Frame 2610372.svg" width="20px"
            onclick="window.microphone()" /></div>
            <div>
              <button id="stopSpeaking" onclick="stopSpeaking()" disabled>Stop Speaking</button>
            </div>
      </div>
    </div>
    <!-- <textarea id="chatHistory" style="
  width: 300px;
  height: 500px;
  font-size: medium;
  border: none;
  resize: none;
  background-color: transparent;
  overflow: hidden;" hidden></textarea>
    </div> -->


  </div>
  <div id="continuousConversationDiv" style="background-color: white; width: 300px;" hidden>
    <input type="checkbox" id="continuousConversation">Continuous Conversation</input><br />
  </div>
  <div id="showTypeMessageCheckbox" hidden="hidden">
    <input type="checkbox" id="showTypeMessage" onchange="window.updateTypeMessageBox()" disabled>Type
    Message</input><br />
  </div>

  <textarea id="userMessageBox" style="width: 960px; height: 40px" hidden></textarea><br />

  <div id="progressBar" style="display:none;">
    <div class="loader"></div> 
  </div>

  <!-- <script src="./js/pdfGenerator.js"></script> -->
  

</body>

</html>